# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml

trigger:
- master

pool:
  vmImage: ubuntu-latest

- task: InstallSSHKey@0
  inputs:
    knownHostsEntry: |
      |1|XFvVdgYQ2DD5JAJ7qXg3ODyqpdc=|GoAjCSNFnTWtTnhM3btmy5ea+CM= ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBLP9SkKMe2QK5e4IzLNCvQtDJ06ofyC7rbGHbU6/pye2c+Db+YxnKoMmQVLYIU6F416jFrXbq9IRbcpZXygywc8=
      |1|tZ5gx2jPK36dia9BRke+E4hx4Ss=|mScwt7FNE1iCV+m2k1nDhdPCwO0= ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBBol0BBG7Ah1dEgciEgRkqJ3tnLSOPHGKJtPlhM1yeiQAl3I4OIhTvY+EzMUS4hz/TppuiG6iHxlaU1D814MWC4=
      |1|IlszY9vByjMipoMcaaqWgYiEgEs=|fjFG5IByZvXqIzsC9CIghOjwQWw= ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBKxuYYEb5LI/T63wyI0/Mta3vjYqAMUmImaf/wwR50f2zBe98I43bHuywVhF6iaOK+8j5Cl/A+wG3WBLbRv42AY=
      |1|evdeITbm6JOjW4Ktu73stHZzAeQ=|umo8bM0RTmrCIZWb6dUOs4bCVsg= ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBFAZU4nQNS6lNWqiFzoQ4pjTSmsGyxWmyoZS7pzSWooaua/yV9JDou49KuhCzZakpP/PY0WfTxbo/KrZM+ESW+Q=
      |1|P0JfMWqgq3UvNhwiiq3tn4FLd/E=|kf4XyHGbv0saHg3figo/81IS9Yw= ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBBfwA8ffUK9pikytYc3MYTtXZB9TSvAkm9Ndl/3xz1bOuoKvyO8g3IsxmOUJCyuA65u6y83COTC135gD4tf30SI=
      |1|1S0uWf6zFzCDZprZ4mUhYtJY/oY=|eNJnp5tLo8Uh+n6iRB9g0HnB63Y= ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBC4Hc1jrCWhRv6R2Rnbdy11Z7keeVbVsdHnhWYjSuw6P+MwlF314cVirXS9nHOnylEzXSHEkkEaPrYWoWuR5y70=
      |1|Vq2C4JC1ODoDL4Q1YplDcfI1IxU=|f2pz9/u2YE/VXpp38q9p4+pUG3E= ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBIYeyQU2ZiWs83aJVQ/sJ8whgkvpRliSajh5Te6t+M3BeGKxE3Ojvsx2zo+CE2Rz+LcslvJ747oqR02ImUS5a9E=
      |1|YJ0Ft2EjitxaAsI+knhVGuX7vSs=|9WFXs17sOP8iEb7p9Xb2Q7O8Rws= ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBBqTXxeit0wx2qHa9oxY4Dv5uGiOD6PtqH+5zdGJRd9s8vitU4qCp3U7QxsKNY2UagWJcz5oITyagVqU3SKOkzE=
      |1|rALWeiLi29Czjk8G62/LbLx0QZs=|ovfO0z54rxyrGE2I9CPSrEOY2Bw= ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBB8uiPgYsAfhZo9tzfam2hbv7G1TUF4hk0jzrxO/SjLO2qBpMrlDaQvQWYZI3kdNT1xgFHFKSXcyaPElszq3tqU=
    sshKeySecureFile: '-----BEGIN RSA PRIVATE KEY----- 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 -----END RSA PRIVATE KEY-----'

- task: Ansible@0
  inputs:
    ansibleInterface: 'agentMachine'
    playbookPathOnAgentMachine: 'ansible/uninstall.yaml'
    inventoriesAgentMachine: 'hostList'
    inventoryHostListAgentMachine: '104.215.72.107,20.97.12.217'